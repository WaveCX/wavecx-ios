{"sections":[],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This guide covers advanced patterns for using WaveCx SDK in SwiftUI apps, including reactive state management, custom view modifiers, and delegate implementation."}]},{"type":"heading","level":2,"text":"App Configuration","anchor":"App-Configuration"},{"type":"heading","level":3,"text":"Basic Setup","anchor":"Basic-Setup"},{"type":"paragraph","inlineContent":[{"text":"Configure WaveCx in your appâ€™s initialization:","type":"text"}]},{"code":["import SwiftUI","import WaveCxSdk","","@main","struct MyApp: App {","    init() {","        WaveCx.configureShared(","            organizationCode: \"your-org-code\",","            debugMode: true","        )","    }","","    var body: some Scene {","        WindowGroup {","            RootView()","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"With Mock Mode for Development","anchor":"With-Mock-Mode-for-Development"},{"code":["@main","struct MyApp: App {","    init() {","        #if DEBUG","        let mockConfig = MockModeConfig(","            enabled: true,","            contentStrategy: .allTriggerPoints","        )","        WaveCx.configureShared(","            organizationCode: \"your-org-code\",","            debugMode: true,","            mockModeConfig: mockConfig","        )","        #else","        WaveCx.configureShared(organizationCode: \"your-org-code\")","        #endif","    }","","    var body: some Scene {","        WindowGroup {","            RootView()","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Session Management","anchor":"Session-Management"},{"type":"heading","level":3,"text":"Login View Integration","anchor":"Login-View-Integration"},{"code":["struct LoginView: View {","    @State private var email = \"\"","    @State private var password = \"\"","    @State private var isLoggingIn = false","","    var body: some View {","        VStack(spacing: 20) {","            TextField(\"Email\", text: $email)","            SecureField(\"Password\", text: $password)","","            Button(\"Log In\") {","                Task {","                    await handleLogin()","                }","            }","            .disabled(isLoggingIn)","        }","    }","","    private func handleLogin() async {","        isLoggingIn = true","        defer { isLoggingIn = false }","","        \/\/ Your authentication logic","        let userId = try? await AuthService.login(email: email, password: password)","","        guard let userId = userId else { return }","","        \/\/ Start WaveCx session with user attributes","        await WaveCx.shared.startUserSession(","            userId: userId,","            userAttributes: [","                \"email\": email,","                \"loginDate\": Date().ISO8601Format(),","                \"platform\": \"iOS\"","            ]","        )","","        \/\/ Navigate to main app","        navigateToHome()","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Logout Handling","anchor":"Logout-Handling"},{"code":["struct SettingsView: View {","    var body: some View {","        List {","            Button(\"Log Out\", role: .destructive) {","                handleLogout()","            }","        }","    }","","    private func handleLogout() {","        \/\/ End WaveCx session","        WaveCx.shared.endUserSession()","","        \/\/ Your logout logic","        AuthService.logout()","        navigateToLogin()","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Trigger Points in Views","anchor":"Trigger-Points-in-Views"},{"type":"heading","level":3,"text":"Basic Trigger on View Appear","anchor":"Basic-Trigger-on-View-Appear"},{"code":["struct HomeView: View {","    var body: some View {","        VStack {","            Text(\"Welcome Home!\")","        }","        .onAppear {","            WaveCx.shared.triggerPoint(triggerPointCode: \"home_screen_load\")","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Trigger with Task for Async Operations","anchor":"Trigger-with-Task-for-Async-Operations"},{"code":["struct DashboardView: View {","    @State private var data: DashboardData?","","    var body: some View {","        VStack {","            if let data = data {","                DashboardContent(data: data)","            }","        }","        .task {","            \/\/ Load data first","            data = await loadDashboardData()","","            \/\/ Then trigger content","            WaveCx.shared.triggerPoint(triggerPointCode: \"dashboard_loaded\")","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Conditional Triggering","anchor":"Conditional-Triggering"},{"code":["struct OnboardingView: View {","    @State private var currentStep = 1","    let totalSteps = 3","","    var body: some View {","        VStack {","            OnboardingStep(number: currentStep)","","            Button(\"Next\") {","                if currentStep < totalSteps {","                    currentStep += 1","                } else {","                    completeOnboarding()","                }","            }","        }","    }","","    private func completeOnboarding() {","        \/\/ Trigger content when onboarding completes","        WaveCx.shared.triggerPoint(triggerPointCode: \"onboarding_complete\")","        navigateToHome()","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"User-Triggered Content","anchor":"User-Triggered-Content"},{"type":"heading","level":3,"text":"Dynamic Button Visibility","anchor":"Dynamic-Button-Visibility"},{"code":["struct ProfileView: View {","    @State private var hasNewContent = false","","    var body: some View {","        ScrollView {","            ProfileHeader()","            ProfileDetails()","        }","        .onAppear {","            checkForContent()","        }","        .toolbar {","            if hasNewContent {","                Button {","                    WaveCx.shared.showUserTriggeredContent()","                } label: {","                    Label(\"What's New\", systemImage: \"sparkles\")","                }","            }","        }","    }","","    private func checkForContent() {","        WaveCx.shared.triggerPoint(triggerPointCode: \"profile_page\")","","        \/\/ Check if button-triggered content is available","        hasNewContent = WaveCx.shared.hasUserTriggeredContent()","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Custom View Modifier","anchor":"Custom-View-Modifier"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a reusable view modifier for user-triggered content:"}]},{"code":["struct WaveCxButtonModifier: ViewModifier {","    let triggerPointCode: String","    @State private var hasContent = false","","    func body(content: Content) -> some View {","        content","            .onAppear {","                WaveCx.shared.triggerPoint(triggerPointCode: triggerPointCode)","                hasContent = WaveCx.shared.hasUserTriggeredContent()","            }","            .toolbar {","                if hasContent {","                    Button(\"Help\") {","                        WaveCx.shared.showUserTriggeredContent()","                    }","                }","            }","    }","}","","extension View {","    func waveCxHelp(triggerPoint: String) -> some View {","        modifier(WaveCxButtonModifier(triggerPointCode: triggerPoint))","    }","}","","\/\/ Usage","struct CheckoutView: View {","    var body: some View {","        VStack {","            \/\/ Checkout content","        }","        .waveCxHelp(triggerPoint: \"checkout_page\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Badge Indicator","anchor":"Badge-Indicator"},{"type":"paragraph","inlineContent":[{"text":"Show a badge when new content is available:","type":"text"}]},{"code":["struct TabViewExample: View {","    @State private var hasNewContent = false","","    var body: some View {","        TabView {","            HomeView()","                .tabItem {","                    Label(\"Home\", systemImage: \"house\")","                }","","            SettingsView()","                .tabItem {","                    Label(\"Settings\", systemImage: \"gear\")","                }","                .badge(hasNewContent ? \"New\" : nil)","        }","        .onAppear {","            checkForContent()","        }","    }","","    private func checkForContent() {","        WaveCx.shared.triggerPoint(triggerPointCode: \"app_launch\")","        hasNewContent = WaveCx.shared.hasUserTriggeredContentForTriggerPoint(","            triggerPointCode: \"settings_announcement\"","        )","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Implementing WaveCxDelegate","anchor":"Implementing-WaveCxDelegate"},{"type":"heading","level":3,"text":"Observable Delegate Class","anchor":"Observable-Delegate-Class"},{"code":["import SwiftUI","import WaveCxSdk","","@MainActor","class WaveCxManager: ObservableObject, WaveCxDelegate {","    @Published var contentCount = 0","    @Published var lastError: Error?","    @Published var isShowingContent = false","","    init() {","        WaveCx.shared.delegate = self","    }","","    \/\/ MARK: - WaveCxDelegate Methods","","    func onContentReceived(content: [Content]) {","        contentCount = content.count","        print(\"ðŸ“¦ Received \\(content.count) content items\")","    }","","    func onWillShowContent(content: Content, cancel: @escaping () -> Void) {","        print(\"ðŸ“± About to show content for: \\(content.triggerPoint)\")","","        \/\/ Example: Cancel content during onboarding","        if UserDefaults.standard.bool(forKey: \"isOnboarding\") {","            cancel()","        }","    }","","    func onDidShowContent(content: Content) {","        isShowingContent = true","        print(\"âœ… Showing content for: \\(content.triggerPoint)\")","","        \/\/ Track analytics","        Analytics.track(\"content_shown\", properties: [","            \"trigger_point\": content.triggerPoint","        ])","    }","","    func onContentDismissed() {","        isShowingContent = false","        print(\"âŒ Content dismissed\")","    }","","    func onError(error: Error) {","        lastError = error","        print(\"âš ï¸ WaveCx error: \\(error.localizedDescription)\")","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"Using the Manager in Your App","anchor":"Using-the-Manager-in-Your-App"},{"code":["@main","struct MyApp: App {","    @StateObject private var waveCxManager = WaveCxManager()","","    init() {","        WaveCx.configureShared(organizationCode: \"your-org-code\")","    }","","    var body: some Scene {","        WindowGroup {","            RootView()","                .environmentObject(waveCxManager)","        }","    }","}","","\/\/ Access in views","struct SomeView: View {","    @EnvironmentObject var waveCxManager: WaveCxManager","","    var body: some View {","        VStack {","            if waveCxManager.isShowingContent {","                Text(\"Content is being displayed\")","            }","","            if let error = waveCxManager.lastError {","                Text(\"Error: \\(error.localizedDescription)\")","                    .foregroundColor(.red)","            }","","            Text(\"Total content items: \\(waveCxManager.contentCount)\")","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Navigation Integration","anchor":"Navigation-Integration"},{"type":"heading","level":3,"text":"With NavigationStack","anchor":"With-NavigationStack"},{"code":["struct AppRootView: View {","    @State private var navigationPath = NavigationPath()","","    var body: some View {","        NavigationStack(path: $navigationPath) {","            HomeView()","                .navigationDestination(for: Route.self) { route in","                    destinationView(for: route)","                }","        }","    }","","    @ViewBuilder","    private func destinationView(for route: Route) -> some View {","        switch route {","        case .profile:","            ProfileView()","                .onAppear {","                    WaveCx.shared.triggerPoint(triggerPointCode: \"profile_view\")","                }","        case .settings:","            SettingsView()","                .onAppear {","                    WaveCx.shared.triggerPoint(triggerPointCode: \"settings_view\")","                }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Best Practices","anchor":"Best-Practices"},{"type":"heading","level":3,"text":"1. Trigger on Navigation Events","anchor":"1-Trigger-on-Navigation-Events"},{"code":["struct ContentListView: View {","    var body: some View {","        List {","            \/\/ Content items","        }","        .onAppear {","            WaveCx.shared.triggerPoint(triggerPointCode: \"list_view_appear\")","        }","        .onDisappear {","            WaveCx.shared.triggerPoint(triggerPointCode: \"list_view_disappear\")","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"2. Combine with User Actions","anchor":"2-Combine-with-User-Actions"},{"code":["struct PurchaseView: View {","    var body: some View {","        VStack {","            ProductDetails()","","            Button(\"Complete Purchase\") {","                Task {","                    await completePurchase()","                    \/\/ Trigger after successful action","                    WaveCx.shared.triggerPoint(triggerPointCode: \"purchase_complete\")","                }","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":3,"text":"3. Conditional Content Based on User State","anchor":"3-Conditional-Content-Based-on-User-State"},{"code":["struct DynamicContentView: View {","    @State private var isPremiumUser = false","","    var body: some View {","        VStack {","            \/\/ View content","        }","        .onAppear {","            let triggerPoint = isPremiumUser ? \"premium_home\" : \"free_home\"","            WaveCx.shared.triggerPoint(triggerPointCode: triggerPoint)","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Testing in SwiftUI Previews","anchor":"Testing-in-SwiftUI-Previews"},{"type":"paragraph","inlineContent":[{"text":"Use mock mode for SwiftUI previews:","type":"text"}]},{"code":["struct HomeView_Previews: PreviewProvider {","    static var previews: some View {","        let mockConfig = MockModeConfig(","            enabled: true,","            contentStrategy: .specificTriggerPoints([\"home_screen_load\"])","        )","","        WaveCx.configureShared(","            organizationCode: \"preview-org\",","            mockModeConfig: mockConfig","        )","","        return HomeView()","    }","}"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"text":"Next Steps","anchor":"Next-Steps"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/GettingStarted","isActive":true},{"type":"text","text":" - Review the basics"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/UIKitIntegration","isActive":true},{"text":" - Learn about UIKit integration","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/WaveCxDelegate","isActive":true,"type":"reference"},{"text":" - Explore all delegate methods","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/MockModeConfig"},{"text":" - Advanced testing configurations","type":"text"}]}]}]}]}],"identifier":{"url":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/SwiftUIIntegration","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn best practices for integrating WaveCx into your SwiftUI application."}],"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/GettingStarted","doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/UIKitIntegration"],"anchor":"Essentials","title":"Essentials"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"role":"article","title":"SwiftUI Integration Guide","roleHeading":"Article","modules":[{"name":"WaveCxSdk"}]},"variants":[{"paths":["\/documentation\/wavecxsdk\/swiftuiintegration"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","hierarchy":{"paths":[["doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk","doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/WaveCx"]]},"references":{"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk/WaveCx":{"identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/WaveCx","role":"symbol","type":"topic","url":"\/documentation\/wavecxsdk\/wavecx","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WaveCx","kind":"identifier"}],"navigatorTitle":[{"text":"WaveCx","kind":"identifier"}],"title":"WaveCx","kind":"symbol","abstract":[{"text":"WaveCx SDK main class","type":"text"}]},"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk/UIKitIntegration":{"title":"UIKit Integration Guide","url":"\/documentation\/wavecxsdk\/uikitintegration","abstract":[{"type":"text","text":"Learn how to integrate WaveCx into your UIKit-based iOS application."}],"identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/UIKitIntegration","type":"topic","kind":"article","role":"article"},"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk":{"title":"WaveCxSdk","kind":"symbol","url":"\/documentation\/wavecxsdk","type":"topic","role":"collection","abstract":[],"identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk"},"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk/MockModeConfig":{"kind":"symbol","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/MockModeConfig","type":"topic","abstract":[{"text":"Configuration for mock mode testing.","type":"text"}],"role":"symbol","navigatorTitle":[{"text":"MockModeConfig","kind":"identifier"}],"title":"MockModeConfig","url":"\/documentation\/wavecxsdk\/mockmodeconfig","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MockModeConfig","kind":"identifier"}]},"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk/WaveCxDelegate":{"title":"WaveCxDelegate","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/WaveCxDelegate","navigatorTitle":[{"kind":"identifier","text":"WaveCxDelegate"}],"role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"WaveCxDelegate"}],"kind":"symbol","type":"topic","url":"\/documentation\/wavecxsdk\/wavecxdelegate","abstract":[{"type":"text","text":"Delegate protocol for receiving SDK lifecycle events."}]},"doc://com.wavecx.WaveCxSdk/documentation/WaveCxSdk/GettingStarted":{"abstract":[{"type":"text","text":"Learn how to integrate the WaveCx SDK into your iOS application."}],"kind":"article","role":"article","identifier":"doc:\/\/com.wavecx.WaveCxSdk\/documentation\/WaveCxSdk\/GettingStarted","url":"\/documentation\/wavecxsdk\/gettingstarted","title":"Getting Started with WaveCx","type":"topic"}}}